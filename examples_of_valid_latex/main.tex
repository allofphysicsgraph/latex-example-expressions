\documentclass{article}

\setlength{\topmargin}{-.5in}
\setlength{\textheight}{9in}
\setlength{\oddsidemargin}{0in}
\setlength{\textwidth}{6.5in}

%\usepackage{graphicx} % Required for inserting images
\usepackage{amsmath}

\usepackage{hyperref}


\title{Demonstration that expressions are valid \LaTeX}
\author{ben.is.located@gmail.com}
\date{\today}

\begin{document}

\maketitle

\section{Introduction}
This document validates that expressions are \LaTeX using amsmath. 

\href{https://www.ams.org/arc/tex/amsmath/amsldoc.pdf}{https://www.ams.org/arc/tex/amsmath/amsldoc.pdf}

These math expressions would be expected in mathematical physics.

This is not meant to comprehensively represent all expression found in pure math. Also, there are mathematical physics notations not found in pure math -- e.g., Dirac notation.

\section{Unsorted}

Missing an equal sign. Valid \LaTeX. Would show up as a `feed' but is not a valid expression since there's no relational operator.
\input{expression_600}
Expected tokens: $a$

\hrulefill

problem for Sympy is the bar
\input{expression_610}
Expected tokens: $a$, $b$, $x$

\hrulefill

valid math and valid \LaTeX but fails in Sympy
\input{expression_620}
Expected tokens: $a$

\hrulefill

used in quantum mechanics and is valid latex. Fails in Sympy
\input{expression_630}
Expected tokens: $\hat{x}$

\hrulefill

succeeds in Sympy, indicating an argument is expected
\input{expression_640}
Expected tokens: $x$

\hrulefill

fails in sympy and is (usually) incomplete mathematically
\input{expression_650}
Expected tokens: $x$

\hrulefill

used in quantum mechanics and is valid latex. Fails in Sympy
\input{expression_660}
Expected tokens: $\hbar$

\hrulefill

complicated but valid math and valid latex. Fails in the second array  
\input{expression_670}
Expected tokens: $\cos$

\hrulefill

I isolate the problem array
\input{expression_671}
Expected tokens: $A_{x}$

\hrulefill

the following cannot be evaluated mathematically but is valid latex. 
This fails in Sympy with the message ``I expected one of these: '='''
\input{expression_680}
Expected tokens: $dy$

\hrulefill

with spacing; see https://github.com/sympy/sympy/issues/19075
\input{expression_690}
Expected tokens: $x$

\hrulefill

\input{expression_691}
Expected tokens: $x$

\hrulefill

\input{expression_692}
Expected tokens: $x$

\hrulefill

\input{expression_693}
Expected tokens: $x$

\hrulefill

\input{expression_694}
Expected tokens: $x$

\hrulefill

inequality
\input{expression_695}
Expected tokens: $a$

\hrulefill

\section{Algebra}

\hrulefill

\input{expression_010}
parses to 
\begin{verbatim}
Eq(a, b)    
\end{verbatim}
with atoms ${a, b}$\\
using antlr4-python3-runtime==4.11 and sympy==1.12

Expected tokens: $a$, $b$, $=$.

\hrulefill

polynomial
\input{expression_015}    
parses to
\begin{verbatim}
Eq(x**n + y**n, z**n)
\end{verbatim}
with atoms ${y, n, x, z}$\\
using antlr4-python3-runtime==4.11 and sympy==1.12

Expected tokens: $x$, $y$, $z$, $=$, $n$, $+$, power.

\hrulefill

polynomial with subscripts
\input{expression_016}  
parses to
\begin{verbatim}
Eq(a_{1}**2 + b_{1}**2, c_{1}**2)
\end{verbatim}
with atoms ${b_{1}, 2, a_{1}, c_{1}}$\\
using antlr4-python3-runtime==4.11 and sympy==1.12

Expected tokens: $a_1$, $b_1$, $c_1$, $+$, $=$, $2$, power.

\hrulefill


\input{expression_017}
parses to
\begin{verbatim}
Eq(k_{n + 1}, -k_{n - 1} + (k_{n}**2 + n**2))
\end{verbatim}
with atoms ${k_{n - 1}, 2, k_{n + 1}, k_{n}, n, -1}$\\
using antlr4-python3-runtime==4.11 and sympy==1.12

Expected tokens: $k_{n+1}$, $n$, $2$, $+$, $-$, $k_{n-1}$, $=$, power.

\hrulefill


\input{expression_018}
\begin{verbatim}
antlr4.error.Errors.LexerNoViableAltException: LexerNoViableAltException('\')

sympy.parsing.latex.errors.LaTeXParsingError: I don't understand this
\cos(2\ \theta\ \phi)=\cos^{2}\theta\phi-\sin^{2}(\theta\ \phi)
~~~~~~^
\end{verbatim}


Expected tokens: $\cos$, power, 2, $\theta$, $\phi$, $-$, $=$

\hrulefill


\input{expression_019}
\begin{verbatim}
antlr4.error.Errors.LexerNoViableAltException: LexerNoViableAltException('\')

sympy.parsing.latex.errors.LaTeXParsingError: I don't understand this
\sqrt{|x\ y|}\leq\left|\frac{x+y}{2}\right|
~~~~~~~~^
\end{verbatim}


Expected tokens: $\sqrt{}$, $x$, $y$, $\leq$, $/$, 2, $+$

\hrulefill


function of a variable
\input{expression_030}
parses to
\begin{verbatim}
Eq(f(x), y**2)
\end{verbatim}
with atoms ${x, 2, y}$\\
using antlr4-python3-runtime==4.11 and sympy==1.12

Expected tokens: $f(x)$, $x$, $=$, $y$, power, 2.

\hrulefill


With constraint
\input{expression_040}
\begin{verbatim}
antlr4.error.Errors.LexerNoViableAltException: LexerNoViableAltException('\')

sympy.parsing.latex.errors.LaTeXParsingError: I don't understand this
K = G + 1 \ {\rm when}\ K << G
~~~~~~~~~~^
\end{verbatim}

Expected tokens: $K$, $G$, $+$, $1$, $=$, $<<$

\hrulefill


Equation with range:
\input{expression_050}
\begin{verbatim}
antlr4.error.Errors.LexerNoViableAltException: LexerNoViableAltException('\')

sympy.parsing.latex.errors.LaTeXParsingError: I don't understand this
f(x) = x^2 \ {\rm when}\ x>0
~~~~~~~~~~~^
\end{verbatim}

Expected tokens: 

\hrulefill


\input{expression_051}
\begin{verbatim}
antlr4.error.Errors.LexerNoViableAltException: LexerNoViableAltException('&')

sympy.parsing.latex.errors.LaTeXParsingError: I don't understand this
|x|=\begin{cases}
 x  & \text{if }x\geq 0\\\
-x  & \text{if }x< 0
\end{cases}
~~~~^
\end{verbatim}

Expected tokens: 

\hrulefill


\input{expression_998}
Expected tokens: 

\hrulefill

%https://www.authorea.com/users/3/articles/165181-latex-mathematics-examples
continued fractions
\input{expression_055}    
parses to
\begin{verbatim}
Eq(x, a_{0} + 1/(a_{1} + 1/(a_{2} + 1/(a_{3} + a_{4}))))
\end{verbatim}
with atoms ${a_{3}, a_{0}, x, -1, a_{1}, a_{2}, a_{4}}$\\
using antlr4-python3-runtime==4.11 and sympy==1.12


Expected tokens: 

\hrulefill

As the fractions continue, they get smaller. If you want to keep the size consistent, use the display style
\input{expression_056}
parses to
\begin{verbatim}
Eq(x, a_{0} + 1/(a_{1}*displaystyle + 1/(a_{2}*displaystyle + 1/(a_{3}*displaystyle + a_{4}))))
\end{verbatim}
with atoms ${a_{3}, x, a_{1}, displaystyle, a_{0}, a_{2}, a_{4}, -1}$\\
using antlr4-python3-runtime==4.11 and sympy==1.12

Expected tokens: 

\hrulefill

system of equations
\input{expression_058}
parses to
\begin{verbatim}
Eq(u, (-y)/(x**2 + y**2))
\end{verbatim}
with atoms ${2, u, x, y, -1}$\\
using antlr4-python3-runtime==4.11 and sympy==1.12

Expected tokens: 

\hrulefill

Multi-line equation:
\input{expression_060}
\begin{verbatim}
antlr4.error.Errors.LexerNoViableAltException: LexerNoViableAltException('\')

sympy.parsing.latex.errors.LaTeXParsingError: I don't understand this
\begin{split}
a = x + \\
 c + b * \\
 (y + z)
\end{split}
~~~~~~~~^
\end{verbatim}

Expected tokens: 

\hrulefill

Multi-line equation with alignment:
\input{expression_070}
\begin{verbatim}
antlr4.error.Errors.LexerNoViableAltException: LexerNoViableAltException('\')

sympy.parsing.latex.errors.LaTeXParsingError: I don't understand this
\begin{split}
a = x - \\
& c + b - \\
& f + k
\end{split}
~~~~~~~~^
\end{verbatim}

Expected tokens: 

\hrulefill

Simultaneous equations
\input{expression_999}
Expected tokens: 

\hrulefill

% https://gitmind.com/faq/formula-list.html
fractions, nested
\input{expression_071}
parses to
\begin{verbatim}
Eq(((1 - (1/2)**n)/2)/(1 - 1/2), s_{n})
\end{verbatim}
with atoms ${1, 2, n, -1, s_{n}}$\\
using antlr4-python3-runtime==4.11 and sympy==1.12

Expected tokens: 

\hrulefill

binomial
\input{expression_072}
Expected tokens: 

\hrulefill

% https://www.authorea.com/users/3/articles/165181-latex-mathematics-examples
The Taylor series expansion for $e^x$ is 
\input{expression_073}
\begin{verbatim}
antlr4.error.Errors.NoViableAltException: None

sympy.parsing.latex.errors.LaTeXParsingError: I expected something else here
1 + x + \frac{x^2}{2} + \frac{x^3}{6} + \cdots = \sum_{n\geq 0} \frac{x^n}{n!}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
\end{verbatim}

Expected tokens: 

\hrulefill


For any non-negative integer $n$,
\input{expression_074}
parses to
\begin{verbatim}
Eq((x + 1)**n, Sum(x**i*binomial(n, i), (i, 0, n)))
\end{verbatim}
with atoms ${x, 1, 0, i, n}$\\
using antlr4-python3-runtime==4.11 and sympy==1.12



Expected tokens: 

\hrulefill


\section{Calculus}
limit
\input{expression_077}
Expected tokens: 

\hrulefill


integration
\input{expression_075}
Expected tokens: 

\hrulefill


% https://gitmind.com/faq/formula-list.html
\input{expression_078}
Expected tokens: 

\hrulefill


\input{expression_079}
Expected tokens: 

\hrulefill


partial differential
\input{expression_076}
Expected tokens: 

\hrulefill


\section{Linear Algebra}
vector and matrix notation
\input{expression_020}    
parses to
\begin{verbatim}
Eq(vec*x, A*hat)
\end{verbatim}
with atoms ${x, vec, A, hat}$\\
using antlr4-python3-runtime==4.11 and sympy==1.12

$\rightarrow$ SymPy's atoms are wrong.

Expected tokens: $\vec{x}$,$\hat{A}$

\hrulefill



row vector:
\input{expression_080}
Expected tokens: $\vec{x}$, $=$, $0$, $3$, $y$

\hrulefill


column vector:
\input{expression_090}
Expected tokens: $\vec{x}$, $=$, $x_1$, $x_2$, $x_3$

\hrulefill


column vector, arbitrary size:
\input{expression_100}
Expected tokens: $\vec{x}$, $=$, $x_1$, $x_2$, $x_3$

\hrulefill



matrix:
\input{expression_110}
Expected tokens: 

\hrulefill


matrix, arbitrary size:
\input{expression_120}
Expected tokens: 

\hrulefill


% https://tex.stackexchange.com/a/153616/235813
matrix math:
\input{expression_130}
Expected tokens: 

\hrulefill


\section{Quantum: Dirac Notation}

bra
% https://tex.stackexchange.com/a/553176/235813
\input{expression_800}
Expected tokens: $\psi$

How to indicate using tokens that this is "bra"? Seems similar to $f(x)$

\hrulefill


ket
% https://tex.stackexchange.com/a/553176/235813
\input{expression_810}
Expected tokens: $\phi$

How to indicate using tokens that this is "ket"? Seems similar to $f(x)$

\hrulefill


% https://tex.stackexchange.com/a/553176/235813
\input{expression_820}
Expected tokens: $\psi$, $\phi$

Seems similar to $f(x, y)$

\hrulefill


\input{expression_830}
Expected tokens: 

Seems similar to $f(x, y, z)$

\hrulefill


expectation
\input{expression_840}
Expected tokens: 

\hrulefill


\section{Einstein summation notation}

% https://math.stackexchange.com/questions/2429838/einstein-summation-notation-and-kronecker-delta-problem

\href{https://en.wikipedia.org/wiki/Einstein_notation}{Einstein notation}

\input{expression_700}
Expected tokens: $C$, $A$, $B$, $=$, $i$, $k$, $j$.

\hrulefill


The \href{https://en.wikipedia.org/wiki/Kronecker_delta}{Kronecker delta}
\input{expression_705}
Expected tokens: $\sum$, $j$, $\delta$, $i$, $j$, $a$, $=$.

\hrulefill



\input{expression_710}
Expected tokens: 

\hrulefill



\end{document}
